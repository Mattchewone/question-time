
> backend@1.0.0 worker
> ts-node src/worker.ts

2025-01-06T18:45:44.806Z [INFO] Creating worker {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  options: {
    namespace: 'bitovi.x72yu',
    identity: '46584@Matts-MBP',
    useVersioning: false,
    buildId: undefined,
    shutdownGraceTime: 0,
    enableNonLocalActivities: true,
    maxConcurrentWorkflowTaskPolls: 10,
    maxConcurrentActivityTaskPolls: 10,
    stickyQueueScheduleToStartTimeout: '10s',
    maxHeartbeatThrottleInterval: '60s',
    defaultHeartbeatThrottleInterval: '30s',
    isolateExecutionTimeout: '5s',
    workflowThreadPoolSize: 1,
    maxCachedWorkflows: 2310,
    showStackTraceSources: false,
    debugMode: false,
    interceptors: { activity: [], workflowModules: [] },
    nonStickyToStickyPollRatio: 0.2,
    sinks: { __temporal_logger: [Object] },
    connection: NativeConnection {
      nativeClient: [External: 139748540],
      referenceHolders: Set(0) {}
    },
    workflowsPath: '/Users/mattchaffe/Projects/bitovi/treasure-hunt/backend/src/workflows.ts',
    activities: Map(4) {
      'getClue' => [AsyncFunction: getClue],
      'validateAnswerAI' => [AsyncFunction: validateAnswerAI],
      'updateLeaderboard' => [AsyncFunction: updateLeaderboard],
      'getLeaderboard' => [AsyncFunction: getLeaderboard]
    },
    taskQueue: 'question-time-queue',
    tuner: {
      workflowTaskSlotSupplier: [Object],
      activityTaskSlotSupplier: [Object],
      localActivityTaskSlotSupplier: [Object]
    },
    reuseV8Context: true,
    shutdownGraceTimeMs: 0,
    shutdownForceTimeMs: undefined,
    stickyQueueScheduleToStartTimeoutMs: 10000,
    isolateExecutionTimeoutMs: 5000,
    maxHeartbeatThrottleIntervalMs: 60000,
    defaultHeartbeatThrottleIntervalMs: 30000,
    loadedDataConverter: {
      payloadConverter: [DefaultPayloadConverter],
      failureConverter: [DefaultFailureConverter],
      payloadCodecs: []
    }
  }
}
2025-01-06T18:45:45.629Z [INFO] asset workflow-bundle-50d3c9dba05ef89530af.js 955 KiB [emitted] [immutable] (name: main)
runtime modules 937 bytes 4 modules
modules by path ./node_modules/@temporalio/ 234 KiB
  modules by path ./node_modules/@temporalio/common/lib/ 95.3 KiB 23 modules
  modules by path ./node_modules/@temporalio/workflow/ 138 KiB
    ./node_modules/@temporalio/workflow/lib/worker-interface.js 8.38 KiB [built] [code generated]
    ./node_modules/@temporalio/workflow/lib/global-overrides.js 4.09 KiB [built] [code generated]
    + 17 modules
modules by path ./src/ 4.19 KiB
  ./src/workflows-autogenerated-entrypoint.cjs 458 bytes [built] [code generated]
  ./src/workflows.ts 3.74 KiB [built] [code generated]
__temporal_custom_payload_converter (ignored) 15 bytes [built] [code generated]
__temporal_custom_failure_converter (ignored) 15 bytes [built] [code generated]
./node_modules/long/umd/index.js 43.1 KiB [built] [code generated]
./node_modules/ms/dist/index.cjs 3.41 KiB [built] [code generated]
webpack 5.97.1 compiled successfully in 520 ms { sdkComponent: 'worker', taskQueue: 'question-time-queue' }
2025-01-06T18:45:45.631Z [INFO] Workflow bundle created {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  size: '0.93MB'
}
Worker started and listening to question-time-queue
2025-01-06T18:45:45.869Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'RUNNING'
}
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt","score":1}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt","score":2}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt","score":2},{"player":"matt2","score":1}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt","score":2},{"player":"matt2","score":2}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt2","score":3},{"player":"matt","score":2}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt2","score":3},{"player":"matt","score":2},{"player":"kevin","score":1}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt2","score":3},{"player":"matt","score":2},{"player":"kevin","score":2}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt2","score":3},{"player":"kevin","score":3},{"player":"matt","score":2}]
[LeaderBoardWorkflow(leaderboard-workflow)] Leaderboard updated: [{"player":"matt2","score":3},{"player":"kevin","score":3},{"player":"matt","score":2},{"player":"lucy","score":1}]
[questionTimeWorkflow(question-time-workflow-bob)] Game ended
2025-01-06T19:16:48.041Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'STOPPING'
}
2025-01-06T19:16:48.042Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'DRAINING'
}
2025-01-06T19:16:48.045Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'DRAINED'
}
2025-01-06T19:16:48.045Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'STOPPED'
}
me ended
[questionTimeWorkflow(question-time-workflow-bob)] Game ended
2025-01-06T19:16:44.668Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'STOPPING'
}
2025-01-06T19:16:44.669Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'DRAINING'
}
2025-01-06T19:16:44.671Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'DRAINED'
}
2025-01-06T19:16:44.672Z [INFO] Worker state changed {
  sdkComponent: 'worker',
  taskQueue: 'question-time-queue',
  state: 'STOPPED'
}
